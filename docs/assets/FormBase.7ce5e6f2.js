export default'/**\r\n * 表单基础\r\n */\r\nimport Vue from "vue";\r\nimport { MlForm, MlFormConfig } from "types/form";\r\nimport CustomCascader from "@/components/CustomCascader";\r\n\r\nfunction optionsGet() {\r\n  return Promise.resolve([\r\n    { value: 1, label: "男" },\r\n    { value: 0, label: "女" },\r\n  ]);\r\n}\r\n\r\nexport default Vue.extend({\r\n  name: "FormBase",\r\n  data() {\r\n    return {\r\n      formConfig: null as MlFormConfig,\r\n      formValue: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.formConfig = {\r\n      labelPosition: "top",\r\n      columns: [\r\n        { label: "姓名", placeholder: "姓名姓名姓名", prop: "name" },\r\n        {\r\n          type: "select",\r\n          label: "性别",\r\n          prop: "type",\r\n          required: true,\r\n          value: 0,\r\n          options: [\r\n            { value: 1, label: "男" },\r\n            { value: 0, label: "女" },\r\n          ],\r\n        },\r\n        { label: "性别", prop: "sex", type: "select", optionsGet, show: (data) => data.type === 1 },\r\n        {\r\n          label: "自定义",\r\n          prop: "render",\r\n          type: "select",\r\n          required: true,\r\n          block: true,\r\n          optionsGet,\r\n          render: () => <CustomCascader options={[{ label: "北京", value: 1 }]} />,\r\n        },\r\n        { label: "备注", prop: "marks", type: "textarea", block: true },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    async onSubmit() {\r\n      await (this.$refs.form as MlForm).validate();\r\n      return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n          this.$message.success("提交成功");\r\n          resolve(1);\r\n        }, 5000);\r\n      });\r\n    },\r\n    onReset() {\r\n      (this.$refs.form as MlForm).reset();\r\n    },\r\n  },\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ml-form ref="form" config={this.formConfig} v-model={this.formValue}></ml-form>\r\n        <div>\r\n          <el-button type="primary" onClick={this.onSubmit}>\r\n            提交\r\n          </el-button>\r\n          <el-button onClick={this.onReset}>重置</el-button>\r\n        </div>\r\n        <p>当前表单输出值：{JSON.stringify(this.formValue)}</p>\r\n      </div>\r\n    );\r\n  },\r\n});\r\n';
