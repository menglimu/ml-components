export default'/**\r\n * 表格配置\r\n */\r\nimport Vue from "vue";\r\nimport { MlTable, MlTableProps } from "types/table";\r\n\r\nlet data = {\r\n  content: [\r\n    {\r\n      name: "霍去病",\r\n      sentence: "匈奴未灭何以家为",\r\n      occupation: "冠军侯",\r\n      remark: "封狼居胥，饮马翰海",\r\n      status: 1,\r\n      image: "https://img2.baidu.com/it/u=2102736929,2417598652&fm=26&fmt=auto&gp=0.jpg",\r\n    },\r\n    {\r\n      name: "辛弃疾",\r\n      sentence: "醉里挑灯看剑，梦回吹角连营",\r\n      occupation: "起义军",\r\n      remark: "杀贼！杀贼！杀贼",\r\n      status: 2,\r\n      image: [\r\n        "https://img0.baidu.com/it/u=1514002029,2035215441&fm=26&fmt=auto&gp=0.jpg",\r\n        "https://img2.baidu.com/it/u=2116882029,1761299726&fm=26&fmt=auto&gp=0.jpg",\r\n      ],\r\n    },\r\n    {\r\n      name: "苏东坡",\r\n      sentence: "一蓑烟雨任平生",\r\n      occupation: "老饕",\r\n      remark: "问汝平生功业",\r\n      status: 3,\r\n      image: ["https://img1.baidu.com/it/u=600451725,8030365&fm=26&fmt=auto&gp=0.jpg"],\r\n    },\r\n    {\r\n      name: "李清照",\r\n      sentence: "至今思项羽，不肯过江东",\r\n      occupation: "怼怼",\r\n      remark: "易安大人",\r\n      status: 4,\r\n      image: "https://img0.baidu.com/it/u=478088386,2867763503&fm=26&fmt=auto&gp=0.jpg",\r\n    },\r\n    {\r\n      name: "陶渊明",\r\n      sentence: "羁鸟恋旧林，池鱼思故渊",\r\n      occupation: "五柳先生",\r\n      remark: "不为五斗米折腰",\r\n      status: 5,\r\n      image: "https://img2.baidu.com/it/u=3084029894,4148570719&fm=26&fmt=auto&gp=0.jpg",\r\n    },\r\n  ],\r\n  total: 1,\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: "TableSearch",\r\n  data() {\r\n    return {\r\n      tableConfig: null as MlTableProps,\r\n    };\r\n  },\r\n  created() {\r\n    this.tableConfig = {\r\n      innerBtn: [{ name: "显示隐藏", type: "text", callback: this.onDetail }],\r\n      config: {\r\n        api: {\r\n          list: (params) => {\r\n            console.log(params);\r\n            return Promise.resolve(data);\r\n          },\r\n        },\r\n        columns: [\r\n          { label: "姓名", prop: "name" },\r\n          { label: "名句", prop: "sentence", minWidth: "200" },\r\n          { label: "职业", prop: "occupation" },\r\n          { label: "备注", prop: "remark" },\r\n\r\n          {\r\n            label: "标题",\r\n            prop: "render",\r\n            key: "newsTitle1", // 重复prop时，需要给其中一个指定一个不同的key\r\n            // sortable: true,\r\n            render: (h, params) => {\r\n              return (\r\n                <div\r\n                  onClick={this.onDetail.bind(this, params.row)}\r\n                  style={`color: #1EA1FF; text-decoration: underline;cursor: pointer;`}\r\n                >\r\n                  {params.row.render} - 自定义render\r\n                </div>\r\n              );\r\n            },\r\n          },\r\n\r\n          {\r\n            type: "select",\r\n            label: "状态",\r\n            prop: "status",\r\n            statusJudge: {\r\n              success: { status: 1, name: "霍去病" },\r\n              error: { status: 2 },\r\n              warning: { status: 3 },\r\n              done: { status: 4 },\r\n              failed: { status: 5 },\r\n            },\r\n            options: [\r\n              {\r\n                value: 1,\r\n                label: "骠骑将军",\r\n                children: [{ value: 2, label: "文武双全" }],\r\n              },\r\n              {\r\n                value: 3,\r\n                label: "美食家",\r\n              },\r\n              {\r\n                value: 4,\r\n                label: "深度游戏玩家",\r\n              },\r\n              {\r\n                value: 5,\r\n                label: "种田的",\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            type: "image",\r\n            label: "图片",\r\n            prop: "image",\r\n          },\r\n          {\r\n            type: "svg",\r\n            label: "svg矢量图",\r\n            prop: "svg",\r\n            hide: true,\r\n          },\r\n          {\r\n            label: "自定义列",\r\n            prop: "fileIds",\r\n            renderColumn(h) {\r\n              return (\r\n                <el-table-column\r\n                  label="自定义列"\r\n                  scopedSlots={{\r\n                    default: (scope) => {\r\n                      return <span>可通过scope进行内容的展示</span>;\r\n                    },\r\n                  }}\r\n                ></el-table-column>\r\n              );\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      let mlTable = this.$refs.mainTable as MlTable;\r\n      mlTable.refresh();\r\n    }, 6000);\r\n  },\r\n  methods: {\r\n    onDetail() {\r\n      this.$message("点击");\r\n      this.tableConfig.config.columns.find((item) => item.prop === "svg").hide = !this.tableConfig.config.columns.find(\r\n        (item) => item.prop === "svg",\r\n      ).hide;\r\n    },\r\n  },\r\n  render() {\r\n    return <ml-table ref="mainTable" props={this.tableConfig}></ml-table>;\r\n  },\r\n});\r\n';
